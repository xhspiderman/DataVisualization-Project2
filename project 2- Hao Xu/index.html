<!DOCTYPE html>
<html>
	<head>
		<script src="js/taffy.js"></script>
		<script src="js/2digitHSCodes.js"></script>
		<script src="js/4digitHSCodes.js"></script>
		<script src="js/6digitHSCodes.js"></script>
		<script type="text/javascript" src="js/importDestination.js"></script>
		<script type="text/javascript" src="js/exportDestination.js"></script>
		<script type="text/javascript" src="js/importTop25.js"></script>
		<script type="text/javascript" src="js/exportTop25.js"></script>
		<script type="text/javascript" src="js/stateAbbreviations.js"></script>
		<script src="multiple-select-master/jquery-1.11.0.min.js"></script>
		<script src="multiple-select-master/jquerymultipleselect.js"></script>
		<script type="text/javascript" src="js/functions.js"></script>
		<script type="text/javascript" src="https://www.google.com/jsapi"></script>
		<link rel="stylesheet" type="text/css" href="multiple-select-master/multiple-select.css">

		<script>
        // Three level HS code
		var HS2 = TAFFY( HS2_code );
		var HS4 = TAFFY( HS4_code );
		var HS6 = TAFFY( HS6_code );
		// when outputing hscode field, 01 will be 1, but when doing matching, we still need 01 to match it !!!!
				//create databases from JSON data
		var importDestinationDB = TAFFY(importDestination);
		var exportDestinationDB = TAFFY(exportDestination);
		var importTop25DB = TAFFY(importTop25);
		var exportTop25DB = TAFFY(exportTop25);
		var stateAbbreviationsDB = TAFFY(StateAbbreviations);
		var importResultsTable_by_country;
		var exportResultsTable_by_country;
		var importResultsTable_by_commody;
		var exportResultsTable_by_commody;
		</script>
	</head>
	<body>
    <h1>Trading Data</h1>
    <!-- display results for selection -->
	<!--     <p id="eventResult">Here is the result of event.</p> -->
    <select multiple="multiple" id='First_Level_Selection' style='width:1100px;'></select>
    <input type="checkbox" id="includeDetail">include detail
	<select id="statesListbox_by_commody" multiple size="20" style='width:150px;'></select>
	<script type="text/javascript">
      google.load("visualization", "1", {packages:["corechart"]});
      google.setOnLoadCallback(drawChart_by_commody);
    </script>
	<div id="piechart_by_commody" style="width: 500px; height: 300px; float:left;"></div>
    <hr>
	<!-- multi-select box with all states -->
	<select id="statesListbox_by_country" multiple size="20" style='width:150px;'></select>
	<script type="text/javascript">
      google.load("visualization", "1", {packages:["corechart"]});
      google.setOnLoadCallback(drawChart_by_country);
    </script>
	<div id="piechart_by_country" style="width: 500px; height: 300px; float:left;"></div>
		
    <!-- display results for selected HS6 code -->
    <div id='selected_HS_Code'></div>

    <script>
    // Used to store Selected HS2 code
    var selectedValues = [];
    // used to store selected HS6 code
    var selected_HS6_Codes = [];

    
    $( document ).ready(function() {
	    selectionBox()// Prepare all data needed for initializing selectBox
	    selectBoxInitialization(); // Initialize selectBox
    	populateListbox();
    	// output default results
    	populateResultsTable_by_country();
    	populateResultsTable_by_commody();
	    $("#includeDetail").click(function(){
	    	$("#First_Level_Selection").html("");
            selectionBox();
            selectBoxInitialization();
	    });
    	//populate results table when radio button or listbox changes
		$("#statesListbox_by_country").change(function(){


	        populateResultsTable_by_country();
		});
		$("#statesListbox_by_commody").change(function(){
 
	        populateResultsTable_by_commody()
		});

	});
    </script>

	</body>
				
</html>